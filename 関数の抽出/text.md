# 方法
コードの断片を見て、何をしているのか理解し、独立した関数として抽出し、目的にふさわしい名前をつける

# 動機
何をしているか調べなければわからないコードの断片があれば、「何」をしているのかを示す名前の関数として抽出

# 目標
非常に小さな関数(数行程度)を描くのが習慣になる　1行だけのコードでも良い　関数が6行を超えると嫌な匂いがする


# 手順
* 新たな関数を作り、その意図に沿って命名(どうやるかではなく、何をするかの名前)
  * 新しい関数名がコードの意図をより適切に表現するのなら1行でも、関数を1度呼び出すだけでも、抽出する
  * 意味のある名前が見つからないなら抽出すべきではないかも
  * 抽出した関数を元の関数内に入れ子にする　スコープ外の変数を大幅に減らせるため
* 抽出したいコードを新たな関数にコピー
* 抽出したコードで、元の関数ではスコープ内だが、抽出後はスコープ外になった変数を特定(大抵はローカル変数か関数のパラメータ)
  * 元の関数内に入れ子にした場合は不要
  * 全部をパラメータとして渡すのが最も単純
  * 変数が新しい関数内でのみ参照されていて、宣言がコード外なら宣言を持ってくる
  * 代入される変数が値渡しになっているかどうかに注意　一つだけなら抽出したコードを問い合わせとして扱って戻り値をその変数に代入
  * 抽出したコード内で代入されるローカル変数が多すぎるなら抽出は諦め、「変数の分離」や「問い合わせによる一時変数の置き換え」をしてから関数の抽出を行う
* コンパイル
* 元の関数に残った抽出前のコードを新しい関数に置き換える
* テストする
* 残りのコードを見て、新しい関数で置き換えられる類似したコードを探し、「関数呼び出しによるインラインコードの置き換え」を適用できるかを検証